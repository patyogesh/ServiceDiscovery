#project_name : ServiceDiscovery
version : '2'
services :
  zookeeper :
    image : bhavneshgugnani/zookeeper:latest
    container_name : zookeeper

  broker :
    image : bhavneshgugnani/broker:latest
    container_name : broker
    depends_on :
      - zookeeper
    links :
      - zookeeper
    entrypoint : ./wait-for-it.sh zookeeper:2181 -- bin/kafka-server-start.sh config/server.properties

  producer :
    image : bhavneshgugnani/producer:latest
    container_name : producer
    depends_on :
      - broker
    links :
      - broker
    entrypoint : ./wait-for-it.sh broker:9092 -- python TweetProducer.py

  consumer :
    image : bhavneshgugnani/consumer:latest
    container_name : consumer
    depends_on :
      - broker
    links :
      - broker
    entrypoint : ./wait-for-it.sh broker:9092 -- python TweetConsumer.py broker 9092 Trump
